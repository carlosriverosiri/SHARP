---
// Language detection
const { pathname } = Astro.url;
const isEnglish = pathname.startsWith('/en');

// Retrieve specific translation URL if provided by the page (e.g. from @13)
const { alternateUrl } = Astro.props;

// Smart language switcher: use alternateUrl if provided, otherwise fallback to root
const switchToEnglish = isEnglish ? '#' : (alternateUrl || '/en/');
const switchToSwedish = isEnglish ? (alternateUrl || '/') : '#';

const homeUrl = isEnglish ? '/en/' : '/';
const searchUrl = isEnglish ? '/en/search' : '/sok';
---

<!-- Top Bar -->
<div id="top-bar" class="bg-[#023550] text-white font-medium text-center py-2 text-sm z-50 border-b border-blue-400 sticky top-0">
  {isEnglish ? (
    <span>Open to patients from all of Sweden via <a href="/en/free-choice" class="underline font-semibold text-blue-300 hover:text-white">Free Healthcare Choice</a>.</span>
  ) : (
    <span>Öppet för patienter från hela Sverige via <a href="/fritt-vardval-sverige" class="underline font-semibold text-blue-300 hover:text-white">Fritt Vårdval</a>.</span>
  )}
</div>

<header id="main-header" class="relative z-40 bg-[#EBF8FF] shadow-xl">
  <div class="container mx-auto px-4 py-3 flex justify-between items-center">
    
    <a href={homeUrl} class="flex-shrink-0">
      <img src="/images/branding/logo.svg" alt={isEnglish ? "Clinic logo" : "Klinikens logotyp"} class="h-10 w-auto" />
    </a>

    <nav class="hidden lg:flex items-center space-x-2">
      
      {isEnglish ? (
        <!-- ==================== ENGLISH MENU ==================== -->
        <>
          <!-- Diseases -->
          <div class="group relative">
            <a href="/en/diseases/" class="nav-link group-hover:text-blue-600">
              Diseases
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full left-1/2 -translate-x-1/2 pt-2 hidden group-hover:block z-50">
              <div class="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 min-w-[400px]">
                <div class="grid grid-cols-3 gap-6">
                  <!-- Shoulder -->
                  <div class="group/shoulder relative">
                    <a href="/en/diseases/shoulder/" class="flex flex-col items-center text-center hover:bg-blue-50 rounded-xl p-4 transition-colors">
                      <div class="w-16 h-16 mb-2 rounded-full bg-sky-50 flex items-center justify-center overflow-hidden group-hover/shoulder:scale-110 transition-transform">
                        <img src="/images/icons/Axel-icon.svg" alt="" class="w-12 h-12 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-sm">Shoulder</span>
                    </a>
                    <div class="hidden group-hover/shoulder:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <a href="/en/diseases/shoulder/suprascapular-neuropathy" class="text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-full hover:bg-blue-200 transition-colors w-full text-center">Suprascapular Neuropathy</a>
                    </div>
                  </div>
                  <!-- Knee -->
                  <div class="group/knee relative">
                    <a href="/en/diseases/knee/" class="flex flex-col items-center text-center hover:bg-blue-50 rounded-xl p-4 transition-colors">
                      <div class="w-16 h-16 mb-2 rounded-full bg-sky-50 flex items-center justify-center overflow-hidden group-hover/knee:scale-110 transition-transform">
                        <img src="/images/icons/kna-icon.svg" alt="" class="w-12 h-12 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-sm">Knee</span>
                    </a>
                    <div class="hidden group-hover/knee:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Coming soon</span>
                    </div>
                  </div>
                  <!-- Elbow -->
                  <div class="group/elbow relative">
                    <a href="/en/diseases/elbow/" class="flex flex-col items-center text-center hover:bg-blue-50 rounded-xl p-4 transition-colors">
                      <div class="w-16 h-16 mb-2 rounded-full bg-sky-50 flex items-center justify-center overflow-hidden group-hover/elbow:scale-110 transition-transform">
                        <img src="/images/icons/armbage-icon.svg" alt="" class="w-12 h-12 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-sm">Elbow</span>
                    </a>
                    <div class="hidden group-hover/elbow:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Coming soon</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Rehab -->
          <div class="group relative">
            <a href="/en/rehab/" class="nav-link group-hover:text-blue-600">
              Rehab
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full left-1/2 -translate-x-1/2 pt-2 hidden group-hover:block z-50">
              <div class="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 min-w-[400px]">
                <div class="grid grid-cols-3 gap-6">
                  <!-- Shoulder -->
                  <div class="group/shoulder-rehab relative">
                    <a href="/en/rehab/shoulder/" class="flex flex-col items-center text-center hover:bg-green-50 rounded-xl p-4 transition-colors">
                      <div class="w-16 h-16 mb-2 rounded-full bg-emerald-50 flex items-center justify-center overflow-hidden group-hover/shoulder-rehab:scale-110 transition-transform">
                        <img src="/images/icons/Axel-icon.svg" alt="" class="w-12 h-12 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-sm">Shoulder</span>
                    </a>
                    <div class="hidden group-hover/shoulder-rehab:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <a href="/en/rehab/suprascapular-nerve-decompression" class="text-xs bg-emerald-50 text-emerald-700 px-2 py-1 rounded-full hover:bg-emerald-200 transition-colors w-full text-center">Nerve Decompression</a>
                    </div>
                  </div>
                  <!-- Knee -->
                  <div class="group/knee-rehab relative">
                    <a href="/en/rehab/knee/" class="flex flex-col items-center text-center hover:bg-green-50 rounded-xl p-4 transition-colors">
                      <div class="w-16 h-16 mb-2 rounded-full bg-emerald-50 flex items-center justify-center overflow-hidden group-hover/knee-rehab:scale-110 transition-transform">
                        <img src="/images/icons/kna-icon.svg" alt="" class="w-12 h-12 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-sm">Knee</span>
                    </a>
                    <div class="hidden group-hover/knee-rehab:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Coming soon</span>
                    </div>
                  </div>
                  <!-- Elbow -->
                  <div class="group/elbow-rehab relative">
                    <a href="/en/rehab/elbow/" class="flex flex-col items-center text-center hover:bg-green-50 rounded-xl p-4 transition-colors">
                      <div class="w-16 h-16 mb-2 rounded-full bg-emerald-50 flex items-center justify-center overflow-hidden group-hover/elbow-rehab:scale-110 transition-transform">
                        <img src="/images/icons/armbage-icon.svg" alt="" class="w-12 h-12 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-sm">Elbow</span>
                    </a>
                    <div class="hidden group-hover/elbow-rehab:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Coming soon</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- About Us -->
          <div class="group relative">
            <a href="/en/about/" class="nav-link group-hover:text-blue-600">
              About Us
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full right-0 pt-2 hidden group-hover:block z-50">
              <ul class="dropdown-menu min-w-[200px]">
                <li><a href="/en/about/team/" class="dropdown-link">Our Team</a></li>
                <li><a href="/en/about/dr-carlos-rivero-siri" class="dropdown-link">Dr. Carlos Rivero Siri</a></li>
                <li><a href="/en/about/clinic/" class="dropdown-link">About the Clinic</a></li>
              </ul>
            </div>
          </div>

          <!-- Contact -->
          <a href="/en/contact/" class="nav-link hover:text-blue-600">
            Contact
          </a>

          <!-- Search -->
          <a href="/en/search" class="nav-link hover:text-blue-600" aria-label="Search">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </a>

          <!-- Language Switcher - Show Swedish flag -->
          <a href={switchToSwedish} class="nav-link hover:bg-blue-100 p-2" aria-label="Switch to Swedish" title="Svenska">
            <span class="w-6 h-6 rounded-full overflow-hidden inline-flex items-center justify-center border border-gray-200 shadow-sm">
              <svg viewBox="0 0 32 32" class="w-full h-full">
                <rect fill="#006AA7" width="32" height="32"/>
                <rect fill="#FECC00" x="10" y="0" width="4" height="32"/>
                <rect fill="#FECC00" x="0" y="14" width="32" height="4"/>
              </svg>
            </span>
          </a>
        </>
      ) : (
        <!-- ==================== SWEDISH MENU ==================== -->
        <>
          <!-- Sjukdomar - Mega Menu -->
          <div class="group relative">
            <a href="/sjukdomar/" class="nav-link group-hover:text-blue-600">
              Sjukdomar
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full left-1/2 -translate-x-1/2 pt-2 hidden group-hover:block z-50">
              <div class="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 min-w-[560px]">
                <div class="grid grid-cols-3 gap-6">
                  <!-- Axel -->
                  <div class="group/axel relative">
                    <a href="/sjukdomar/axel/" class="flex flex-col items-center text-center hover:bg-blue-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-sky-50 flex items-center justify-center overflow-hidden group-hover/axel:scale-110 transition-transform">
                        <img src="/images/icons/Axel-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Axel</span>
                    </a>
                    <div class="hidden group-hover/axel:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <a href="/sjukdomar/axel/ac-ledsartros" class="text-xs bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full hover:bg-blue-200 transition-colors w-full text-center">AC-ledsartros</a>
                      <a href="/sjukdomar/axel/parsonage-turner" class="text-xs bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full hover:bg-blue-200 transition-colors w-full text-center">Parsonage-Turner</a>
                    </div>
                  </div>
                  <!-- Knä -->
                  <div class="group/kna relative">
                    <a href="/sjukdomar/kna/" class="flex flex-col items-center text-center hover:bg-blue-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-sky-50 flex items-center justify-center overflow-hidden group-hover/kna:scale-110 transition-transform">
                        <img src="/images/icons/kna-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Knä</span>
                    </a>
                    <div class="hidden group-hover/kna:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Kommer snart</span>
                    </div>
                  </div>
                  <!-- Armbåge -->
                  <div class="group/arm relative">
                    <a href="/sjukdomar/armbage/" class="flex flex-col items-center text-center hover:bg-blue-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-sky-50 flex items-center justify-center overflow-hidden group-hover/arm:scale-110 transition-transform">
                        <img src="/images/icons/armbage-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Armbåge</span>
                    </a>
                    <div class="hidden group-hover/arm:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <a href="/sjukdomar/armbage/distal-bicepsruptur" class="text-xs bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full hover:bg-blue-200 transition-colors w-full text-center">Distal bicepsruptur</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Operation - Mega Menu -->
          <div class="group relative">
            <a href="/operation/" class="nav-link group-hover:text-blue-600">
              Operation
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full left-1/2 -translate-x-1/2 pt-2 hidden group-hover:block z-50">
              <div class="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 min-w-[560px]">
                <div class="grid grid-cols-3 gap-6">
                  <!-- Axel -->
                  <div class="group/axel-op relative">
                    <a href="/operation/axel/" class="flex flex-col items-center text-center hover:bg-orange-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-orange-50 flex items-center justify-center overflow-hidden group-hover/axel-op:scale-110 transition-transform">
                        <img src="/images/icons/Axel-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Axel</span>
                    </a>
                    <div class="hidden group-hover/axel-op:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <a href="/operation/axel/lateral-klavikelresektion" class="text-xs bg-orange-50 text-orange-700 px-3 py-1.5 rounded-full hover:bg-orange-200 transition-colors w-full text-center">AC-ledsartros</a>
                    </div>
                  </div>
                  <!-- Knä -->
                  <div class="group/kna-op relative">
                    <a href="/operation/kna/" class="flex flex-col items-center text-center hover:bg-orange-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-orange-50 flex items-center justify-center overflow-hidden group-hover/kna-op:scale-110 transition-transform">
                        <img src="/images/icons/kna-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Knä</span>
                    </a>
                    <div class="hidden group-hover/kna-op:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Operationsprogram kommer</span>
                    </div>
                  </div>
                  <!-- Armbåge -->
                  <div class="group/arm-op relative">
                    <a href="/operation/armbage/" class="flex flex-col items-center text-center hover:bg-orange-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-orange-50 flex items-center justify-center overflow-hidden group-hover/arm-op:scale-110 transition-transform">
                        <img src="/images/icons/armbage-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Armbåge</span>
                    </a>
                    <div class="hidden group-hover/arm-op:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Operationsprogram kommer</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Rehab - Mega Menu -->
          <div class="group relative">
            <a href="/rehab/" class="nav-link group-hover:text-blue-600">
              Rehab
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full left-1/2 -translate-x-1/2 pt-2 hidden group-hover:block z-50">
              <div class="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 min-w-[560px]">
                <div class="grid grid-cols-3 gap-6">
                  <!-- Axel -->
                  <div class="group/axel relative">
                    <a href="/rehab/axel/" class="flex flex-col items-center text-center hover:bg-green-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-green-50 flex items-center justify-center overflow-hidden group-hover/axel:scale-110 transition-transform">
                        <img src="/images/icons/Axel-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Axel</span>
                    </a>
                    <div class="hidden group-hover/axel:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Rehabprogram kommer</span>
                    </div>
                  </div>
                  <!-- Knä -->
                  <div class="group/kna relative">
                    <a href="/rehab/kna/" class="flex flex-col items-center text-center hover:bg-green-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-green-50 flex items-center justify-center overflow-hidden group-hover/kna:scale-110 transition-transform">
                        <img src="/images/icons/kna-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Knä</span>
                    </a>
                    <div class="hidden group-hover/kna:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Rehabprogram kommer</span>
                    </div>
                  </div>
                  <!-- Armbåge -->
                  <div class="group/arm relative">
                    <a href="/rehab/armbage/" class="flex flex-col items-center text-center hover:bg-green-50 rounded-xl p-4 transition-colors">
                      <div class="w-20 h-20 mb-3 rounded-full bg-green-50 flex items-center justify-center overflow-hidden group-hover/arm:scale-110 transition-transform">
                        <img src="/images/icons/armbage-icon.svg" alt="" class="w-16 h-16 object-contain" />
                      </div>
                      <span class="font-bold text-[#024264] text-base">Armbåge</span>
                    </a>
                    <div class="hidden group-hover/arm:flex flex-col items-center gap-1 mt-2 pt-2 border-t border-gray-100">
                      <span class="text-xs text-gray-400 italic">Rehabprogram kommer</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Fråga Doktorn - Mega Menu -->
          <div class="group relative">
            <a href="/fraga-doktorn/" class="nav-link group-hover:text-blue-600">
              Fråga Doktorn
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full left-1/2 -translate-x-1/2 pt-2 hidden group-hover:block z-50">
              <div class="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 min-w-[560px]">
                <div class="grid grid-cols-3 gap-6">
                  <!-- Axel -->
                  <a href="/fraga-doktorn/axel/" class="flex flex-col items-center text-center hover:bg-purple-50 rounded-xl p-4 transition-colors group/axel">
                    <div class="w-20 h-20 mb-3 rounded-full bg-purple-50 flex items-center justify-center overflow-hidden group-hover/axel:scale-110 transition-transform">
                      <img src="/images/icons/Axel-icon.svg" alt="" class="w-16 h-16 object-contain" />
                    </div>
                    <span class="font-bold text-[#024264] text-base">Axel</span>
                  </a>
                  <!-- Knä -->
                  <a href="/fraga-doktorn/kna/" class="flex flex-col items-center text-center hover:bg-purple-50 rounded-xl p-4 transition-colors group/kna">
                    <div class="w-20 h-20 mb-3 rounded-full bg-purple-50 flex items-center justify-center overflow-hidden group-hover/kna:scale-110 transition-transform">
                      <img src="/images/icons/kna-icon.svg" alt="" class="w-16 h-16 object-contain" />
                    </div>
                    <span class="font-bold text-[#024264] text-base">Knä</span>
                  </a>
                  <!-- Armbåge -->
                  <a href="/fraga-doktorn/armbage/" class="flex flex-col items-center text-center hover:bg-purple-50 rounded-xl p-4 transition-colors group/arm">
                    <div class="w-20 h-20 mb-3 rounded-full bg-purple-50 flex items-center justify-center overflow-hidden group-hover/arm:scale-110 transition-transform">
                      <img src="/images/icons/armbage-icon.svg" alt="" class="w-16 h-16 object-contain" />
                    </div>
                    <span class="font-bold text-[#024264] text-base">Armbåge</span>
                  </a>
                </div>
                <!-- Åtgärdsknappar -->
                <div class="mt-4 pt-4 border-t border-gray-100 flex justify-center gap-2">
                  <a href="/fraga-doktorn/#fraga-form" class="inline-flex items-center gap-2 text-sm bg-sky-600 text-white px-3 py-2 rounded-full hover:bg-sky-700 transition-colors font-medium">
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
                    </svg>
                    Ställ en fråga
                  </a>
                  <a href="/fraga-doktorn/senaste/" class="inline-flex items-center gap-2 text-sm bg-slate-100 text-slate-700 px-3 py-2 rounded-full hover:bg-slate-200 transition-colors font-medium">
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    Senaste svaren
                  </a>
                  <a href="/admin/obesvarade/" class="inline-flex items-center gap-2 text-sm bg-amber-100 text-amber-700 px-3 py-2 rounded-full hover:bg-amber-200 transition-colors font-medium">
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                    </svg>
                    Obesvarade
                  </a>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Patient -->
          <div class="group relative">
            <a href="/patient/" class="nav-link group-hover:text-blue-600">
              Patient
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full left-0 pt-2 hidden group-hover:block z-50">
              <ul class="dropdown-menu min-w-[260px]">
                <li><a href="/patient/kom-till-oss/" class="dropdown-link">Kom till oss från hela Sverige</a></li>
                <li><a href="/patient/remiss-vantetid/" class="dropdown-link">Remiss & Väntetid</a></li>
                <li><a href="/patient/forsakringar-betalning/" class="dropdown-link">Försäkringar & Betalning</a></li>
                <li><a href="/patient/boka-omboka/" class="dropdown-link">Boka & Omboka tid</a></li>
              </ul>
            </div>
          </div>
          
          <!-- Om Oss -->
          <div class="group relative">
            <a href="/om-oss/" class="nav-link group-hover:text-blue-600">
              Om Oss
              <svg class="inline-block w-4 h-4 ml-1 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </a>
            <div class="absolute top-full right-0 pt-2 hidden group-hover:block z-50">
              <ul class="dropdown-menu min-w-[240px]">
                <li>
                  <a href="/om-oss/vart-team/" class="dropdown-link font-medium">Vårt Team</a>
                  <a href="/om-oss/vart-team/dr-carlos-rivero-siri" class="block px-4 py-1.5 text-xs text-gray-500 hover:text-blue-600 hover:bg-blue-50 border-l-2 border-blue-200 ml-4 transition-colors">Dr. Carlos Rivero Siri</a>
                </li>
                <li><a href="/om-oss/kvalitet-forskning/" class="dropdown-link">Kvalitet & Forskning</a></li>
                <li><a href="/om-oss/om-kliniken-hitta-hit/" class="dropdown-link">Om Kliniken & Hitta Hit</a></li>
                <li><a href="/om-oss/faq/" class="dropdown-link">FAQ</a></li>
                <li class="border-t border-gray-200 mt-2 pt-2">
                  <span class="block px-4 py-1.5 text-xs font-semibold text-gray-400 uppercase tracking-wider">Admin</span>
                  <a href="/senast-redigerade" class="block px-4 py-1.5 text-sm text-orange-600 hover:text-orange-700 hover:bg-orange-50 transition-colors">Det senast redigerade</a>
                  <a href="/admin/obesvarade" class="block px-4 py-1.5 text-sm text-amber-600 hover:text-amber-700 hover:bg-amber-50 transition-colors">Obesvarade frågor</a>
                  <a href="/copy-links" class="block px-4 py-1.5 text-sm text-blue-600 hover:text-blue-700 hover:bg-blue-50 transition-colors">Kopiera länkar</a>
                </li>
              </ul>
            </div>
          </div>

          <!-- Sök -->
          <a href="/sok" class="nav-link hover:text-blue-600" aria-label="Sök">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </a>

          <!-- Language Switcher - Show UK flag -->
          <a href={switchToEnglish} class="nav-link hover:bg-blue-100 p-2" aria-label="Switch to English" title="English">
            <span class="w-6 h-6 rounded-full overflow-hidden inline-flex items-center justify-center border border-gray-200 shadow-sm">
              <svg viewBox="0 0 32 32" class="w-full h-full">
                <rect fill="#012169" width="32" height="32"/>
                <path d="M0,0 L32,32 M32,0 L0,32" stroke="#fff" stroke-width="4"/>
                <path d="M0,0 L32,32 M32,0 L0,32" stroke="#C8102E" stroke-width="2"/>
                <path d="M16,0 V32 M0,16 H32" stroke="#fff" stroke-width="8"/>
                <path d="M16,0 V32 M0,16 H32" stroke="#C8102E" stroke-width="4"/>
              </svg>
            </span>
          </a>
        </>
      )}

    </nav>
    <button id="mobile-menu-toggle" class="lg:hidden p-2 rounded-md text-[#024264] hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500" aria-label={isEnglish ? "Open menu" : "Öppna menyn"} aria-expanded="false">
      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
    </button>
  </div>

  <div class="lg:hidden container mx-auto px-4 pt-2 pb-4 flex justify-center gap-4 bg-[#EBF8FF]">
    <button id="open-phone-modal-mobile" class="icon-button" aria-label={isEnglish ? "Show phone information" : "Visa telefoninformation"}>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 00.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 00.684.949V19a2 2 0 01-2 2h-1C9.717 21 3 14.283 3 6V5z"></path></svg>
    </button>
    <a href="mailto:info@sodermalmsortopedi.se?subject=Till Södermalms ortopedi" class="icon-button" aria-label={isEnglish ? "Send email" : "Skicka e-post"}>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
    </a>
    <a href="https://goo.gl/maps/nE10x" target="_blank" rel="nofollow noopener noreferrer" class="icon-button" aria-label={isEnglish ? "Find us" : "Hitta till oss"}>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
    </a>
    <a href={searchUrl} class="icon-button" aria-label={isEnglish ? "Search" : "Sök"}>
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
    </a>
    <!-- Mobile Language Switcher - Flagga fyller hela cirkeln, ingen grön bakgrund -->
    {isEnglish ? (
      <a href={switchToSwedish} class="w-10 h-10 rounded-full overflow-hidden inline-flex items-center justify-center shadow-sm border border-gray-200 hover:scale-105 transition-transform" aria-label="Svenska" title="Svenska">
        <svg viewBox="0 0 32 32" class="w-full h-full">
          <rect fill="#006AA7" width="32" height="32"/>
          <rect fill="#FECC00" x="10" y="0" width="4" height="32"/>
          <rect fill="#FECC00" x="0" y="14" width="32" height="4"/>
        </svg>
      </a>
    ) : (
      <a href={switchToEnglish} class="w-10 h-10 rounded-full overflow-hidden inline-flex items-center justify-center shadow-sm border border-gray-200 hover:scale-105 transition-transform" aria-label="English" title="English">
        <svg viewBox="0 0 32 32" class="w-full h-full">
          <rect fill="#012169" width="32" height="32"/>
          <path d="M0,0 L32,32 M32,0 L0,32" stroke="#fff" stroke-width="4"/>
          <path d="M0,0 L32,32 M32,0 L0,32" stroke="#C8102E" stroke-width="2"/>
          <path d="M16,0 V32 M0,16 H32" stroke="#fff" stroke-width="8"/>
          <path d="M16,0 V32 M0,16 H32" stroke="#C8102E" stroke-width="4"/>
        </svg>
      </a>
    )}
  </div>

  <!-- Mobile Menu -->
  <nav id="mobile-menu" class="hidden lg:hidden fixed inset-0 bg-slate-900 z-[60] transform translate-x-full transition-transform duration-300 ease-in-out overflow-y-auto">
    
    <!-- Header med logo och stäng-knapp -->
    <div class="sticky top-0 bg-slate-900 border-b border-slate-700 px-5 py-4 flex items-center justify-between">
      <a href={homeUrl} class="flex-shrink-0">
        <img src="/images/branding/logo.svg" alt="Södermalms Ortopedi" class="h-8 w-auto brightness-0 invert" />
      </a>
      <button id="close-mobile-menu" class="p-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-colors" aria-label={isEnglish ? "Close menu" : "Stäng menyn"}>
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    
    <!-- Menyinnehåll -->
    <div class="px-5 py-4">
      
      {isEnglish ? (
        <!-- ENGLISH MOBILE MENU -->
        <>
          <!-- Diseases -->
          <div class="mobile-accordion border-b border-slate-800">
            <button class="mobile-accordion-trigger w-full flex items-center justify-between text-lg font-bold text-white py-4" data-target="menu-diseases">
              <span>Diseases</span>
              <svg class="mobile-accordion-icon w-5 h-5 text-slate-500 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="menu-diseases" class="mobile-accordion-content hidden pb-4 ml-4 space-y-1">
              <a href="/en/diseases/shoulder/" class="block text-slate-300 hover:text-white py-1.5">Shoulder</a>
              <a href="/en/diseases/shoulder/suprascapular-neuropathy" class="block text-slate-400 hover:text-white py-1.5 text-sm pl-4">• Suprascapular Neuropathy</a>
              <a href="/en/diseases/knee/" class="block text-slate-300 hover:text-white py-1.5">Knee</a>
              <a href="/en/diseases/elbow/" class="block text-slate-300 hover:text-white py-1.5">Elbow</a>
            </div>
          </div>

          <!-- Rehab -->
          <div class="mobile-accordion border-b border-slate-800">
            <a href="/en/rehab/" class="block text-lg font-bold text-white py-4 hover:text-sky-400 transition-colors">
              Rehab
            </a>
          </div>

          <!-- About Us -->
          <div class="mobile-accordion border-b border-slate-800">
            <button class="mobile-accordion-trigger w-full flex items-center justify-between text-lg font-bold text-white py-4" data-target="menu-about">
              <span>About Us</span>
              <svg class="mobile-accordion-icon w-5 h-5 text-slate-500 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="menu-about" class="mobile-accordion-content hidden pb-4 ml-4 space-y-1">
              <a href="/en/about/team/" class="block text-slate-400 hover:text-white py-1.5">Our Team</a>
              <a href="/en/about/dr-carlos-rivero-siri" class="block text-slate-400 hover:text-white py-1.5">Dr. Carlos Rivero Siri</a>
              <a href="/en/about/clinic/" class="block text-slate-400 hover:text-white py-1.5">About the Clinic</a>
            </div>
          </div>

          <!-- Contact -->
          <div class="mobile-accordion border-b border-slate-800">
            <a href="/en/contact/" class="block text-lg font-bold text-white py-4 hover:text-sky-400 transition-colors">
              Contact
            </a>
          </div>

          <!-- Language Switch -->
          <div class="border-b border-slate-800 py-4">
            <a href={switchToSwedish} class="flex items-center gap-3 text-slate-300 hover:text-white">
              <span class="w-6 h-6 rounded-full overflow-hidden">
                <svg viewBox="0 0 32 32" class="w-full h-full">
                  <rect fill="#006AA7" width="32" height="32"/>
                  <rect fill="#FECC00" x="10" y="0" width="4" height="32"/>
                  <rect fill="#FECC00" x="0" y="14" width="32" height="4"/>
                </svg>
              </span>
              <span>Svenska</span>
            </a>
          </div>
        </>
      ) : (
        <!-- SWEDISH MOBILE MENU -->
        <>
          <!-- Sjukdomar -->
          <div class="mobile-accordion border-b border-slate-800">
            <button class="mobile-accordion-trigger w-full flex items-center justify-between text-lg font-bold text-white py-4" data-target="menu-sjukdomar">
              <span>Sjukdomar</span>
              <svg class="mobile-accordion-icon w-5 h-5 text-slate-500 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="menu-sjukdomar" class="mobile-accordion-content hidden pb-4">
              <!-- Axel -->
              <div class="mobile-accordion-nested ml-4">
                <button class="mobile-accordion-trigger w-full flex items-center justify-between text-slate-300 py-2" data-target="menu-axel">
                  <span class="flex items-center"><span class="w-2 h-2 rounded-full bg-sky-400 mr-3"></span>Axel</span>
                  <svg class="mobile-accordion-icon w-4 h-4 text-slate-600 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </button>
                <div id="menu-axel" class="mobile-accordion-content hidden pl-5 pb-2 space-y-1">
                  <a href="/sjukdomar/axel/" class="block text-slate-400 hover:text-white py-1.5 text-sm">Alla axelsjukdomar</a>
                  <a href="/sjukdomar/axel/ac-ledsartros" class="block text-slate-400 hover:text-white py-1.5 text-sm">AC-ledsartros</a>
                  <a href="/sjukdomar/axel/parsonage-turner" class="block text-slate-400 hover:text-white py-1.5 text-sm">Parsonage-Turner</a>
                </div>
              </div>
              <!-- Knä -->
              <div class="mobile-accordion-nested ml-4">
                <button class="mobile-accordion-trigger w-full flex items-center justify-between text-slate-300 py-2" data-target="menu-kna">
                  <span class="flex items-center"><span class="w-2 h-2 rounded-full bg-emerald-400 mr-3"></span>Knä</span>
                  <svg class="mobile-accordion-icon w-4 h-4 text-slate-600 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </button>
                <div id="menu-kna" class="mobile-accordion-content hidden pl-5 pb-2 space-y-1">
                  <a href="/sjukdomar/kna/" class="block text-slate-400 hover:text-white py-1.5 text-sm">Alla knäsjukdomar</a>
                </div>
              </div>
              <!-- Armbåge -->
              <div class="mobile-accordion-nested ml-4">
                <button class="mobile-accordion-trigger w-full flex items-center justify-between text-slate-300 py-2" data-target="menu-armbage">
                  <span class="flex items-center"><span class="w-2 h-2 rounded-full bg-amber-400 mr-3"></span>Armbåge</span>
                  <svg class="mobile-accordion-icon w-4 h-4 text-slate-600 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </button>
                <div id="menu-armbage" class="mobile-accordion-content hidden pl-5 pb-2 space-y-1">
                  <a href="/sjukdomar/armbage/" class="block text-slate-400 hover:text-white py-1.5 text-sm">Alla armbågssjukdomar</a>
                  <a href="/sjukdomar/armbage/distal-bicepsruptur" class="block text-slate-400 hover:text-white py-1.5 text-sm">Distal bicepsruptur</a>
                </div>
              </div>
            </div>
          </div>

          <!-- Operation -->
          <div class="mobile-accordion border-b border-slate-800">
            <button class="mobile-accordion-trigger w-full flex items-center justify-between text-lg font-bold text-white py-4" data-target="menu-operation">
              <span>Operation</span>
              <svg class="mobile-accordion-icon w-5 h-5 text-slate-500 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="menu-operation" class="mobile-accordion-content hidden pb-4">
              <!-- Axel -->
              <div class="mobile-accordion-nested ml-4">
                <button class="mobile-accordion-trigger w-full flex items-center justify-between text-slate-300 py-2" data-target="menu-operation-axel">
                  <span class="flex items-center"><span class="w-2 h-2 rounded-full bg-orange-400 mr-3"></span>Axel</span>
                  <svg class="mobile-accordion-icon w-4 h-4 text-slate-600 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                  </svg>
                </button>
                <div id="menu-operation-axel" class="mobile-accordion-content hidden pl-5 pb-2 space-y-1">
                  <a href="/operation/axel/" class="block text-slate-400 hover:text-white py-1.5 text-sm">Alla axeloperationer</a>
                  <a href="/operation/axel/lateral-klavikelresektion" class="block text-slate-400 hover:text-white py-1.5 text-sm">AC-ledsartros</a>
                </div>
              </div>
              <!-- Knä -->
              <div class="mobile-accordion-nested ml-4">
                <a href="/operation/kna/" class="flex items-center text-slate-300 py-2 hover:text-white">
                  <span class="w-2 h-2 rounded-full bg-orange-400 mr-3"></span>Knä
                </a>
              </div>
              <!-- Armbåge -->
              <div class="mobile-accordion-nested ml-4">
                <a href="/operation/armbage/" class="flex items-center text-slate-300 py-2 hover:text-white">
                  <span class="w-2 h-2 rounded-full bg-orange-400 mr-3"></span>Armbåge
                </a>
              </div>
            </div>
          </div>

          <!-- Rehab -->
          <div class="mobile-accordion border-b border-slate-800">
            <a href="/rehab/" class="block text-lg font-bold text-white py-4 hover:text-sky-400 transition-colors">
              Rehab
            </a>
          </div>

          <!-- Fråga Doktorn -->
          <div class="mobile-accordion border-b border-slate-800">
            <button class="mobile-accordion-trigger w-full flex items-center justify-between text-lg font-bold text-white py-4" data-target="menu-fraga">
              <span>Fråga Doktorn</span>
              <svg class="mobile-accordion-icon w-5 h-5 text-slate-500 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="menu-fraga" class="mobile-accordion-content hidden pb-4 ml-4 space-y-1">
              <a href="/fraga-doktorn/#fraga-form" class="flex items-center text-sky-400 hover:text-sky-300 py-2 font-medium">
                <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                </svg>
                Ställ en fråga
              </a>
              <a href="/fraga-doktorn/senaste/" class="flex items-center text-slate-300 hover:text-white py-2">
                <svg class="w-4 h-4 mr-2 text-sky-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Senaste svaren
              </a>
              <a href="/fraga-doktorn/axel/" class="block text-slate-400 hover:text-white py-1.5 mt-2">Axel-frågor</a>
              <a href="/fraga-doktorn/kna/" class="block text-slate-400 hover:text-white py-1.5">Knä-frågor</a>
              <a href="/fraga-doktorn/armbage/" class="block text-slate-400 hover:text-white py-1.5">Armbåge-frågor</a>
            </div>
          </div>

          <!-- Patient -->
          <div class="mobile-accordion border-b border-slate-800">
            <button class="mobile-accordion-trigger w-full flex items-center justify-between text-lg font-bold text-white py-4" data-target="menu-patient">
              <span>Patient</span>
              <svg class="mobile-accordion-icon w-5 h-5 text-slate-500 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="menu-patient" class="mobile-accordion-content hidden pb-4 ml-4 space-y-1">
              <a href="/fritt-vardval-sverige" class="block text-slate-400 hover:text-white py-1.5">Fritt Vårdval Sverige</a>
              <a href="/patientavgifter" class="block text-slate-400 hover:text-white py-1.5">Patientavgifter</a>
              <a href="/vara-forsakringsbolag" class="block text-slate-400 hover:text-white py-1.5">Försäkringsbolag</a>
              <a href="/privatpatient-tre-val" class="block text-slate-400 hover:text-white py-1.5">Privatpatient</a>
            </div>
          </div>

          <!-- Om Oss -->
          <div class="mobile-accordion border-b border-slate-800">
            <button class="mobile-accordion-trigger w-full flex items-center justify-between text-lg font-bold text-white py-4" data-target="menu-omoss">
              <span>Om Oss</span>
              <svg class="mobile-accordion-icon w-5 h-5 text-slate-500 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
              </svg>
            </button>
            <div id="menu-omoss" class="mobile-accordion-content hidden pb-4 ml-4 space-y-1">
              <a href="/om-oss/vart-team/dr-carlos-rivero-siri" class="block text-slate-400 hover:text-white py-1.5">Dr. Carlos Rivero Siri</a>
              <a href="/vardgivare" class="block text-slate-400 hover:text-white py-1.5">För vårdgivare</a>
              <a href="/akut-remiss" class="block text-slate-400 hover:text-white py-1.5">Akut remiss</a>
              
              <!-- Admin Section -->
              <div class="border-t border-slate-700 mt-3 pt-3">
                <span class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Admin</span>
                <a href="/senast-redigerade" class="flex items-center text-orange-400 hover:text-orange-300 py-1.5">
                  <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                  </svg>
                  Det senast redigerade
                </a>
                <a href="/admin/obesvarade" class="flex items-center text-amber-400 hover:text-amber-300 py-1.5">
                  <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
                  </svg>
                  Obesvarade frågor
                </a>
                <a href="/copy-links" class="flex items-center text-blue-400 hover:text-blue-300 py-1.5">
                  <svg class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                  </svg>
                  Kopiera länkar
                </a>
              </div>
            </div>
          </div>

          <!-- Language Switch -->
          <div class="border-b border-slate-800 py-4">
            <a href={switchToEnglish} class="flex items-center gap-3 text-slate-300 hover:text-white">
              <span class="w-6 h-6 rounded-full overflow-hidden">
                <svg viewBox="0 0 32 32" class="w-full h-full">
                  <rect fill="#012169" width="32" height="32"/>
                  <path d="M0,0 L32,32 M32,0 L0,32" stroke="#fff" stroke-width="4"/>
                  <path d="M0,0 L32,32 M32,0 L0,32" stroke="#C8102E" stroke-width="2"/>
                  <path d="M16,0 V32 M0,16 H32" stroke="#fff" stroke-width="8"/>
                  <path d="M16,0 V32 M0,16 H32" stroke="#C8102E" stroke-width="4"/>
                </svg>
              </span>
              <span>English</span>
            </a>
          </div>
        </>
      )}

    </div>

    <!-- Sök och kontakt-knappar -->
    <div class="px-5 py-5 bg-slate-800 border-t border-slate-700">
      <div class="grid grid-cols-2 gap-3">
        <a href={searchUrl} class="flex items-center justify-center gap-2 bg-sky-600 hover:bg-sky-500 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
          </svg>
          {isEnglish ? 'Search' : 'Sök'}
        </a>
        <a href="tel:+46855110422" class="flex items-center justify-center gap-2 bg-slate-700 hover:bg-slate-600 text-white font-semibold py-3 px-4 rounded-lg transition-colors">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 00.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 00.684.949V19a2 2 0 01-2 2h-1C9.717 21 3 14.283 3 6V5z"/>
          </svg>
          {isEnglish ? 'Call' : 'Ring'}
        </a>
      </div>
    </div>

  </nav>
</header>

<style>
  /* Navigation links */
  .nav-link {
    color: #024264;
    font-weight: 600;
    font-size: 1rem;
    line-height: 1.5rem;
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 200ms;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    display: inline-flex;
    align-items: center;
  }
  
  .nav-link:hover {
    background-color: #eff6ff;
  }
  
  /* Group hover functionality - show dropdown on parent hover */
  .group:hover > .group-hover\:block {
    display: block !important;
  }
  
  .group:hover > .group-hover\:text-blue-600 {
    color: #2563eb !important;
  }
  
  .group:hover .group-hover\:rotate-180 {
    transform: rotate(180deg);
  }
  
  /* Nested group hover for sub-items */
  .group\/shoulder:hover .group-hover\/shoulder\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/shoulder:hover .group-hover\/shoulder\:flex {
    display: flex !important;
  }
  
  .group\/knee:hover .group-hover\/knee\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/knee:hover .group-hover\/knee\:flex {
    display: flex !important;
  }
  
  .group\/elbow:hover .group-hover\/elbow\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/elbow:hover .group-hover\/elbow\:flex {
    display: flex !important;
  }
  
  .group\/axel:hover .group-hover\/axel\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/axel:hover .group-hover\/axel\:flex {
    display: flex !important;
  }
  
  .group\/kna:hover .group-hover\/kna\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/kna:hover .group-hover\/kna\:flex {
    display: flex !important;
  }
  
  .group\/arm:hover .group-hover\/arm\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/arm:hover .group-hover\/arm\:flex {
    display: flex !important;
  }
  
  .group\/axel-op:hover .group-hover\/axel-op\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/axel-op:hover .group-hover\/axel-op\:flex {
    display: flex !important;
  }
  
  .group\/kna-op:hover .group-hover\/kna-op\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/kna-op:hover .group-hover\/kna-op\:flex {
    display: flex !important;
  }
  
  .group\/arm-op:hover .group-hover\/arm-op\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/arm-op:hover .group-hover\/arm-op\:flex {
    display: flex !important;
  }
  
  .group\/shoulder-rehab:hover .group-hover\/shoulder-rehab\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/shoulder-rehab:hover .group-hover\/shoulder-rehab\:flex {
    display: flex !important;
  }
  
  .group\/knee-rehab:hover .group-hover\/knee-rehab\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/knee-rehab:hover .group-hover\/knee-rehab\:flex {
    display: flex !important;
  }
  
  .group\/elbow-rehab:hover .group-hover\/elbow-rehab\:scale-110 {
    transform: scale(1.1);
  }
  
  .group\/elbow-rehab:hover .group-hover\/elbow-rehab\:flex {
    display: flex !important;
  }
  
  /* Dropdown menu styles */
  .dropdown-menu {
    background-color: white;
    border-radius: 0.75rem;
    box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    border: 1px solid #f3f4f6;
    padding: 0.5rem 0;
    min-width: 200px;
  }
  
  .dropdown-link {
    display: block;
    padding: 0.625rem 1rem;
    font-size: 0.875rem;
    line-height: 1.25rem;
    color: #374151;
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }
  
  .dropdown-link:hover {
    color: #2563eb;
    background-color: #eff6ff;
  }
  
  .submenu-link {
    display: block;
    padding: 0.375rem 0;
    font-size: 0.875rem;
    line-height: 1.25rem;
    color: #4b5563;
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
    border-left-width: 2px;
    border-color: transparent;
    padding-left: 0.75rem;
  }
  
  .submenu-link:hover {
    color: #2563eb;
    border-color: #60a5fa;
  }
</style>

<script>
  const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
  const mobileMenu = document.getElementById('mobile-menu');
  const closeMobileMenu = document.getElementById('close-mobile-menu');

  const topBar = document.getElementById('top-bar');

  if (mobileMenuToggle && mobileMenu && closeMobileMenu) {
    mobileMenuToggle.addEventListener('click', () => {
      mobileMenu.classList.remove('translate-x-full');
      mobileMenu.classList.add('translate-x-0');
      mobileMenu.classList.remove('hidden'); 
      mobileMenuToggle.setAttribute('aria-expanded', 'true');
      document.body.style.overflow = 'hidden';
      if (topBar) topBar.style.display = 'none'; // Hide top bar
    });

    closeMobileMenu.addEventListener('click', () => {
      mobileMenu.classList.remove('translate-x-0');
      mobileMenu.classList.add('translate-x-full');
      setTimeout(() => {
        mobileMenu.classList.add('hidden');
      }, 300); 
      mobileMenuToggle.setAttribute('aria-expanded', 'false');
      document.body.style.overflow = '';
      if (topBar) topBar.style.display = ''; // Show top bar
    });

    mobileMenu.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.remove('translate-x-0');
        mobileMenu.classList.add('translate-x-full');
        setTimeout(() => {
          mobileMenu.classList.add('hidden');
        }, 300);
        mobileMenuToggle.setAttribute('aria-expanded', 'false');
        document.body.style.overflow = '';
        if (topBar) topBar.style.display = ''; // Show top bar
      });
    });

    // Accordion functionality
    const accordionTriggers = mobileMenu.querySelectorAll('.mobile-accordion-trigger');
    accordionTriggers.forEach(trigger => {
      trigger.addEventListener('click', (e) => {
        e.preventDefault();
        const targetId = trigger.getAttribute('data-target');
        const targetContent = document.getElementById(targetId);
        const icon = trigger.querySelector('.mobile-accordion-icon');
        
        if (targetContent) {
          const isOpen = !targetContent.classList.contains('hidden');
          
          if (isOpen) {
            targetContent.classList.add('hidden');
            icon?.classList.remove('rotate-180');
          } else {
            targetContent.classList.remove('hidden');
            icon?.classList.add('rotate-180');
          }
        }
      });
    });
  }
</script>

          }
        }
      });
    });
  }
</script>
