---
import BaseLayout from './BaseLayout.astro';
import PWAInstallBanner from '../components/PWAInstallBanner.astro';

interface Props {
  title: string;
  description: string;
  image?: string;
  type?: 'website' | 'article';
}

const { title, description, image, type } = Astro.props;
---

<BaseLayout title={title} description={description} image={image} type={type}>
  <!-- PWA Install Banner (endast pÃ¥ operations-/rehabsidor) -->
  <PWAInstallBanner />

  <slot />
  
  <!-- Print Optimization for Rehab Programs -->
  <style is:global>
    @media print {
      /* Hide non-essential elements */
      footer, .print\\:hidden, button {
        display: none !important;
      }
      
      /* Hide top bar and navigation, keep only logo */
      #top-bar,
      #main-header nav,
      #main-header button,
      #main-header a[href*="tel"],
      #main-header svg:not(img),
      #mobile-menu-button,
      .language-switcher {
        display: none !important;
      }
      
      /* Simplify header - just show logo */
      #main-header {
        background: white !important;
        box-shadow: none !important;
        padding: 0.3cm 0 !important;
        border-bottom: 1px solid #ddd !important;
      }
      
      #main-header .container {
        justify-content: center !important;
      }
      
      #main-header img[alt*="logo"] {
        height: 1.5cm !important;
      }
      
      /* Hide footer, CTAs, and map */
      body > footer,
      footer[aria-labelledby="footer-heading"],
      section.bg-gradient-to-r,
      section.bg-slate-100,
      iframe,
      [id*="map"],
      [class*="map"] {
        display: none !important;
      }
      
      /* Optimize for A4 */
      @page {
        size: A4;
        margin: 1.5cm 1.5cm;
      }
      
      * {
        box-shadow: none !important;
        border-radius: 0 !important;
      }
      
      body {
        font-size: 9.5pt !important;
        line-height: 1.35 !important;
        color: #000 !important;
        background: white !important;
      }
      
      /* Compact headings */
      h1 {
        font-size: 18pt !important;
        margin-bottom: 0.3cm !important;
        color: #000 !important;
      }
      
      h2 {
        font-size: 14pt !important;
        margin-top: 0.4cm !important;
        margin-bottom: 0.2cm !important;
        page-break-after: avoid !important;
        color: #000 !important;
      }
      
      h3 {
        font-size: 11pt !important;
        margin-top: 0.3cm !important;
        margin-bottom: 0.15cm !important;
        font-weight: 600 !important;
        color: #000 !important;
      }
      
      h4 {
        font-size: 10pt !important;
        margin-top: 0.2cm !important;
        margin-bottom: 0.1cm !important;
        font-weight: 600 !important;
        color: #000 !important;
      }
      
      p, ul, ol {
        margin-bottom: 0.2cm !important;
        font-size: 9.5pt !important;
      }
      
      /* Remove ALL boxes and backgrounds - plain text only */
      div[class*="bg-"],
      div[class*="border"],
      div[class*="rounded"],
      .bg-emerald-50, .bg-sky-50, .bg-purple-50, .bg-amber-50, .bg-rose-50, .bg-slate-50,
      .bg-white, .bg-gradient-to-r {
        background: transparent !important;
        border: none !important;
        box-shadow: none !important;
        padding: 0 !important;
        margin: 0.1cm 0 !important;
      }
      
      /* Only keep subtle spacing for phase headers */
      h2 {
        border-bottom: 1px solid #ccc !important;
        padding-bottom: 0.1cm !important;
        margin-top: 0.5cm !important;
      }
      
      /* Compact lists */
      ul, ol {
        margin-left: 0.4cm !important;
        padding-left: 0 !important;
      }
      
      li {
        margin-bottom: 0.05cm !important;
        line-height: 1.3 !important;
      }
      
      /* Prevent awkward breaks */
      h2, h3, h4 {
        page-break-after: avoid !important;
      }
      
      div.space-y-4 > div,
      div.space-y-3 > div {
        margin-bottom: 0.15cm !important;
      }
      
      /* Hide link URLs (too much clutter) */
      a[href]:after {
        content: "" !important;
      }
      
      /* Compact sections */
      section {
        padding: 0.2cm 0 !important;
        margin-bottom: 0 !important;
      }
      
      /* Last section should have no bottom padding */
      section:last-of-type {
        padding-bottom: 0 !important;
        margin-bottom: 0 !important;
      }
      
      .max-w-4xl {
        max-width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
      }
      
      /* Grid to single column */
      .grid {
        display: block !important;
      }
      
      .grid > div {
        margin-bottom: 0.15cm !important;
      }
      
      /* Remove all decorative elements */
      .border-l-4, .border-l-3,
      .flex.gap-3, .flex.gap-2,
      svg:not([alt*="logo"]),
      span.shrink-0,
      [class*="rounded-"] {
        display: inline !important;
        border: none !important;
        padding: 0 !important;
        margin: 0 !important;
      }
      
      /* Make icons/checkmarks simple bullets */
      span.text-emerald-600,
      span.text-amber-600,
      span.text-sky-600,
      span.text-rose-600 {
        display: none !important;
      }
      
      /* Remove all padding classes */
      [class*="p-"],
      [class*="px-"],
      [class*="py-"],
      [class*="space-y-"] {
        padding: 0 !important;
        margin: 0 0 0.1cm 0 !important;
      }
      
      /* Prevent orphans and widows */
      p, li {
        orphans: 3 !important;
        widows: 3 !important;
      }
    }
  </style>
</BaseLayout>

