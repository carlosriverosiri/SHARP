---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

// H√§mta alla publicerade fr√•gor
const allQuestions = await getCollection('fraga-doktorn', ({ data }) => data.published);

// Sortera efter datum (nyast f√∂rst)
const sortedQuestions = allQuestions.sort((a, b) => 
  new Date(b.data.date).getTime() - new Date(a.data.date).getTime()
);

// Gruppera per kategori (vi specialiserar oss p√• axel, kn√§ och armb√•ge)
const categories = {
  axel: { name: 'Axel', icon: 'üí™', questions: [] as typeof allQuestions },
  kna: { name: 'Kn√§', icon: 'ü¶µ', questions: [] as typeof allQuestions },
  armbage: { name: 'Armb√•ge', icon: 'ü¶æ', questions: [] as typeof allQuestions },
};

// Fyll kategorierna
sortedQuestions.forEach(q => {
  if (categories[q.data.category]) {
    categories[q.data.category].questions.push(q);
  }
});

// Filtrera bort tomma kategorier
const activeCategories = Object.entries(categories).filter(([_, cat]) => cat.questions.length > 0);

// R√§kna totalt antal fr√•gor
const totalQuestions = sortedQuestions.length;

// Formatera datum
function formatDate(date: Date) {
  return new Intl.DateTimeFormat('sv-SE', { 
    year: 'numeric', 
    month: 'long', 
    day: 'numeric' 
  }).format(date);
}
---

<BaseLayout title="Fr√•ga Doktorn - S√∂dermalms Ortopedi">
  
  <!-- Hero -->
  <section class="bg-gradient-to-br from-slate-900 via-slate-800 to-sky-900 text-white pt-12 pb-16">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <div class="max-w-3xl">
        <span class="inline-block py-1 px-3 rounded bg-sky-600/30 text-sky-300 text-xs font-bold mb-4 tracking-wider uppercase">
          Patientfr√•gor
        </span>
        <h1 class="text-4xl md:text-5xl font-black mb-4 leading-tight tracking-tight">
          Fr√•ga Doktorn
        </h1>
        <p class="text-slate-300 text-lg leading-relaxed mb-4">
          Dr. Carlos Rivero Siri svarar p√• fr√•gor om <strong class="text-white">axel</strong>, <strong class="text-white">kn√§</strong> och <strong class="text-white">armb√•ge</strong> fr√•n patienter i hela Sverige.
        </p>
        <div class="flex items-center gap-4 text-sm text-slate-400">
          <span class="flex items-center gap-2">
            <svg class="w-5 h-5 text-sky-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            {totalQuestions} besvarade fr√•gor
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- St√§ll en fr√•ga -->
  <section id="fraga-form" class="bg-sky-50 border-b border-sky-200">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 py-8">
      <div class="bg-white rounded-2xl shadow-lg border border-sky-100 overflow-hidden">
        <div class="bg-sky-700 px-6 py-4">
          <h2 class="text-xl font-bold text-white flex items-center gap-2">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" />
            </svg>
            St√§ll en ny fr√•ga
          </h2>
        </div>
        <form 
          name="fraga-doktorn" 
          method="POST" 
          action="/fraga-doktorn/tack/"
          data-netlify="true"
          netlify-honeypot="bot-field"
          class="p-6"
          id="fraga-form"
        >
          <input type="hidden" name="form-name" value="fraga-doktorn" />
          <p class="hidden">
            <label>Fyll inte i detta: <input name="bot-field" /></label>
          </p>
          
          <!-- VARNINGSRUTA: Inga personuppgifter -->
          <div class="bg-amber-50 border-l-4 border-amber-500 p-4 mb-6 rounded-r-lg">
            <div class="flex items-start gap-3">
              <svg class="w-6 h-6 text-amber-600 shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
              </svg>
              <div>
                <p class="font-bold text-amber-800">Viktigt om anonymitet</p>
                <p class="text-amber-700 text-sm mt-1">
                  Din fr√•ga och svaret publiceras p√• webbplatsen. <strong>Skriv d√§rf√∂r inte:</strong>
                </p>
                <ul class="text-amber-700 text-sm mt-1 list-disc list-inside">
                  <li>Fullst√§ndigt namn (f√∂r- och efternamn)</li>
                  <li>Personnummer</li>
                  <li>Telefonnummer eller e-postadress</li>
                </ul>
              </div>
            </div>
          </div>

          <!-- STEG 1: Om dig -->
          <div class="mb-6">
            <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center gap-2">
              <span class="w-6 h-6 rounded-full bg-sky-600 text-white text-sm flex items-center justify-center">1</span>
              Om dig
            </h3>
            <div class="grid md:grid-cols-4 gap-4">
              <div>
                <label for="namn" class="block text-sm font-medium text-slate-700 mb-1">F√∂rnamn *</label>
                <input 
                  type="text" 
                  id="namn"
                  name="namn" 
                  required
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                  placeholder="Eller p√•hittat"
                />
              </div>
              <div>
                <label for="alder" class="block text-sm font-medium text-slate-700 mb-1">√Ölder *</label>
                <input 
                  type="number" 
                  id="alder"
                  name="alder" 
                  required
                  min="1" 
                  max="120"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                  placeholder="√Ör"
                />
              </div>
              <div>
                <label for="kon" class="block text-sm font-medium text-slate-700 mb-1">K√∂n</label>
                <select 
                  id="kon"
                  name="kon"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                >
                  <option value="">V√§lj...</option>
                  <option value="man">Man</option>
                  <option value="kvinna">Kvinna</option>
                  <option value="annat">Annat/vill ej ange</option>
                </select>
              </div>
              <div>
                <label for="kategori" class="block text-sm font-medium text-slate-700 mb-1">Kroppsdel *</label>
                <select 
                  id="kategori"
                  name="kategori" 
                  required
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                >
                  <option value="">V√§lj...</option>
                  <option value="axel">Axel</option>
                  <option value="kna">Kn√§</option>
                  <option value="armbage">Armb√•ge</option>
                </select>
              </div>
            </div>
          </div>

          <!-- STEG 2: Bakgrund -->
          <div class="mb-6">
            <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center gap-2">
              <span class="w-6 h-6 rounded-full bg-sky-600 text-white text-sm flex items-center justify-center">2</span>
              Bakgrund
              <span class="text-xs font-normal text-slate-500">(hj√§lper doktorn f√∂rst√• din situation)</span>
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <label for="yrke" class="block text-sm font-medium text-slate-700 mb-1">Yrke</label>
                <input 
                  type="text" 
                  id="yrke"
                  name="yrke"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                  placeholder="T.ex. kontorsjobb, byggnadsarbetare, pension√§r"
                />
              </div>
              <div>
                <label for="aktivitet" class="block text-sm font-medium text-slate-700 mb-1">Tr√§ning / fritidsaktiviteter</label>
                <input 
                  type="text" 
                  id="aktivitet"
                  name="aktivitet"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                  placeholder="T.ex. gym 3 ggr/vecka, golf, l√∂pning, ingen tr√§ning"
                />
              </div>
            </div>
          </div>

          <!-- STEG 3: Dina besv√§r -->
          <div class="mb-6">
            <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center gap-2">
              <span class="w-6 h-6 rounded-full bg-sky-600 text-white text-sm flex items-center justify-center">3</span>
              Dina besv√§r
            </h3>
            <div class="grid md:grid-cols-2 gap-4 mb-4">
              <div>
                <label for="debut" class="block text-sm font-medium text-slate-700 mb-1">N√§r b√∂rjade besv√§ren? *</label>
                <input 
                  type="text" 
                  id="debut"
                  name="debut"
                  required
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                  placeholder="T.ex. f√∂r 2 veckor sedan, efter en olycka i mars"
                />
              </div>
              <div>
                <label for="utlosande" class="block text-sm font-medium text-slate-700 mb-1">Vad utl√∂ste besv√§ren?</label>
                <input 
                  type="text" 
                  id="utlosande"
                  name="utlosande"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                  placeholder="T.ex. lyfte tungt, f√∂ll, sm√∂g sig p√• gradvis, vet ej"
                />
              </div>
            </div>
            <div class="mb-4">
              <label for="lokalisation" class="block text-sm font-medium text-slate-700 mb-1">Var sitter sm√§rtan/besv√§ren?</label>
              <input 
                type="text" 
                id="lokalisation"
                name="lokalisation"
                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                placeholder="T.ex. √∂verst p√• axeln, utsidan, inuti kn√§et, framsidan av armb√•gen"
              />
            </div>
            <div>
              <label for="symptom" class="block text-sm font-medium text-slate-700 mb-1">Beskriv dina symptom *</label>
              <textarea 
                id="symptom"
                name="symptom"
                required
                rows="3"
                class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                placeholder="T.ex. sm√§rta vid r√∂relse, svaghet, svullnad, l√•sningar, instabilitet, n√§r g√∂r det ont, n√§r g√∂r det inte ont?"
              ></textarea>
            </div>
          </div>

          <!-- STEG 4: Tidigare v√•rd -->
          <div class="mb-6">
            <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center gap-2">
              <span class="w-6 h-6 rounded-full bg-sky-600 text-white text-sm flex items-center justify-center">4</span>
              Tidigare v√•rd
              <span class="text-xs font-normal text-slate-500">(om du s√∂kt hj√§lp tidigare)</span>
            </h3>
            <div class="space-y-3">
              <div class="flex flex-wrap gap-4">
                <label class="flex items-center gap-2 cursor-pointer">
                  <input type="checkbox" name="tidigare_lakarbesok" value="ja" class="w-4 h-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500" />
                  <span class="text-sm text-slate-700">Bes√∂kt l√§kare</span>
                </label>
                <label class="flex items-center gap-2 cursor-pointer">
                  <input type="checkbox" name="tidigare_fysioterapi" value="ja" class="w-4 h-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500" />
                  <span class="text-sm text-slate-700">G√•tt hos fysioterapeut</span>
                </label>
                <label class="flex items-center gap-2 cursor-pointer">
                  <input type="checkbox" name="tidigare_rontgen" value="ja" class="w-4 h-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500" />
                  <span class="text-sm text-slate-700">R√∂ntgen/MR</span>
                </label>
                <label class="flex items-center gap-2 cursor-pointer">
                  <input type="checkbox" name="tidigare_operation" value="ja" class="w-4 h-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500" />
                  <span class="text-sm text-slate-700">Opererats</span>
                </label>
              </div>
              <div>
                <label for="tidigare_info" class="block text-sm font-medium text-slate-700 mb-1">Beskriv g√§rna (vad sade l√§karen/fysioterapeuten?)</label>
                <textarea 
                  id="tidigare_info"
                  name="tidigare_info"
                  rows="2"
                  class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
                  placeholder="T.ex. fysioterapeuten sa att det var en inflammation, har f√•tt kortison, MR visade..."
                ></textarea>
              </div>
            </div>
          </div>

          <!-- INFO: S√• h√§r f√•r du b√§st svar (visas f√∂re steg 5) -->
          <div class="bg-sky-50 border border-sky-200 rounded-xl p-5 mb-6">
            <div class="flex items-start gap-3">
              <div class="w-10 h-10 rounded-full bg-sky-100 flex items-center justify-center shrink-0">
                <svg class="w-5 h-5 text-sky-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                </svg>
              </div>
              <div>
                <p class="font-bold text-sky-900 mb-2">Tips: S√• h√§r f√•r du b√§st svar</p>
                <p class="text-sky-800 text-sm mb-3">
                  Nu n√§r du fyllt i bakgrunden √§r det dags att formulera din fr√•ga. 
                  Fr√•gor som bara √§r <em>"Vad ska jag g√∂ra?"</em> √§r sv√•ra att besvara ‚Äì var g√§rna specifik med vad du undrar √∂ver.
                </p>
                <details class="text-sm">
                  <summary class="text-sky-700 font-medium cursor-pointer hover:text-sky-900">
                    Visa exempel p√• bra vs. d√•liga fr√•gor
                  </summary>
                  <div class="mt-3 space-y-3">
                    <div class="bg-red-50 border border-red-200 rounded-lg p-3">
                      <p class="text-red-700 font-medium text-xs uppercase mb-1">‚ùå Sv√•rt att besvara</p>
                      <p class="text-red-800 text-sm italic">"Jag har ont i axeln efter tr√§ning. Vad ska jag g√∂ra?"</p>
                    </div>
                    <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                      <p class="text-green-700 font-medium text-xs uppercase mb-1">‚úÖ Bra fr√•ga</p>
                      <p class="text-green-800 text-sm italic">"Jag √§r en 32-√•rig kvinna som jobbar som sjuksk√∂terska. Gymtr√§nar 3 ggr/vecka sedan 5 √•r tillbaka och har aldrig haft axelproblem tidigare. F√∂r 3 veckor sedan fick jag pl√∂tsligt ont √∂verst p√• axeln n√§r jag k√∂rde tung b√§nkpress ‚Äì precis d√§r nyckelbenet m√∂ter axeln. Jag avbr√∂t passet direkt.</p>
                      <p class="text-green-800 text-sm italic mt-2">Sedan dess har jag vilat helt fr√•n √∂verkroppstr√§ning men sm√§rtan √§r kvar. Det g√∂r ont n√§r jag lyfter armen √•t sidan, speciellt √∂ver axelh√∂jd. Kan inte l√§ngre sova p√• den sidan ‚Äì vaknar flera g√•nger per natt. P√• jobbet b√∂rjar det bli jobbigt att lyfta patienter.</p>
                      <p class="text-green-800 text-sm italic mt-2">Har testat Ipren i en vecka utan effekt. V√§ntar nu p√• tid hos fysioterapeut men det tar 4 veckor. L√§tta √∂vningar med gummiband g√•r okej men allt med vikt g√∂r ont. K√§nner ocks√• en liten upph√∂jning/kn√∂l precis p√• leden.</p>
                      <p class="text-green-800 text-sm italic mt-2">Min fr√•ga: Ska jag verkligen v√§nta p√• fysioterapeuten eller b√∂r jag s√∂ka l√§kare nu? Kan det vara n√•got allvarligt? Kommer jag kunna √•terg√• till tyngre tr√§ning?"</p>
                    </div>
                  </div>
                </details>
              </div>
            </div>
          </div>

          <!-- STEG 5: Din fr√•ga -->
          <div class="mb-4">
            <h3 class="text-base font-bold text-slate-800 mb-3 flex items-center gap-2">
              <span class="w-6 h-6 rounded-full bg-sky-600 text-white text-sm flex items-center justify-center">5</span>
              St√§ll din fr√•ga
            </h3>
            <label for="fraga" class="block text-sm font-medium text-slate-700 mb-1">
              Beskriv utf√∂rligt dina besv√§r och vad du undrar √∂ver *
            </label>
            <p class="text-xs text-slate-500 mb-2">
              Ju mer du ber√§ttar, desto b√§ttre svar kan du f√•. Avsluta g√§rna med dina specifika fr√•gor.
            </p>
            <textarea 
              id="fraga"
              name="fraga" 
              required
              rows="6"
              class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500"
              placeholder="Beskriv dina besv√§r utf√∂rligt h√§r. Hur p√•verkar det din vardag? Vad har du testat? Vad undrar du √∂ver?"
            ></textarea>
            <!-- Varningsmeddelande som visas vid uppt√§ckt av personuppgifter -->
            <div id="privacy-warning" class="hidden mt-2 p-3 bg-red-50 border border-red-300 rounded-lg text-red-700 text-sm">
              <strong>‚ö†Ô∏è Varning:</strong> Det verkar som att du har skrivit k√§nslig information (personnummer, telefonnummer eller e-postadress). 
              Skriv inte heller ditt fullst√§ndiga namn. V√§nligen ta bort detta innan du skickar ‚Äì fr√•gan publiceras offentligt.
            </div>
          </div>

          <div class="mb-6">
            <label class="flex items-start gap-3 cursor-pointer">
              <input 
                type="checkbox" 
                name="godkanner" 
                required
                class="mt-1 w-4 h-4 text-sky-600 border-slate-300 rounded focus:ring-sky-500"
              />
              <span class="text-sm text-slate-600">
                Jag godk√§nner att min fr√•ga och svaret publiceras anonymt p√• webbplatsen. 
                Jag har inte inkluderat n√•gra personuppgifter i min fr√•ga. *
              </span>
            </label>
          </div>

          <button 
            type="submit"
            id="submit-btn"
            class="w-full md:w-auto bg-sky-700 hover:bg-sky-800 text-white font-bold py-3 px-8 rounded-lg transition-colors"
          >
            Skicka fr√•ga
          </button>
          
          <p class="mt-4 text-xs text-slate-500">
            Observera: Detta √§r inte en akutmottagning. Vid akuta besv√§r, kontakta 1177 eller n√§rmaste akutmottagning.
            Svar p√• fr√•gor kan ta upp till 2 veckor.
          </p>
        </form>

        <!-- JavaScript f√∂r att uppt√§cka personuppgifter -->
        <script>
          document.addEventListener('DOMContentLoaded', function() {
            const warningDiv = document.getElementById('privacy-warning');
            const form = document.getElementById('fraga-form');
            
            // Alla textf√§lt som ska kontrolleras
            const textFields = [
              document.getElementById('namn'),
              document.getElementById('fraga'),
              document.getElementById('symptom'),
              document.getElementById('tidigare_info'),
              document.getElementById('yrke'),
              document.getElementById('aktivitet'),
              document.getElementById('debut'),
              document.getElementById('utlosande'),
              document.getElementById('lokalisation')
            ].filter(Boolean);
            
            // M√∂nster f√∂r att uppt√§cka k√§nslig information
            const patterns = [
              /\d{6}[-\s]?\d{4}/,                    // Personnummer (YYMMDD-XXXX)
              /\d{8}[-\s]?\d{4}/,                    // Personnummer (YYYYMMDD-XXXX)
              /07\d{1}[-\s]?\d{2,3}[-\s]?\d{2,3}[-\s]?\d{2}/,  // Mobilnummer
              /0\d{1,3}[-\s]?\d{2,3}[-\s]?\d{2,3}[-\s]?\d{2}/, // Telefonnummer
              /[\w._%+-]+@[\w.-]+\.[a-zA-Z]{2,}/     // E-postadress
            ];
            
            function checkForPrivateInfo(text) {
              return patterns.some(pattern => pattern.test(text));
            }
            
            function getAllText() {
              return textFields.map(field => field.value).join(' ');
            }
            
            function updateWarning() {
              const allText = getAllText();
              const hasPrivateInfo = checkForPrivateInfo(allText);
              
              if (hasPrivateInfo) {
                warningDiv.classList.remove('hidden');
              } else {
                warningDiv.classList.add('hidden');
              }
            }
            
            // Lyssna p√• input fr√•n alla f√§lt
            textFields.forEach(field => {
              field.addEventListener('input', updateWarning);
            });
            
            // Varning vid submit om personuppgifter finns
            form.addEventListener('submit', function(e) {
              const allText = getAllText();
              
              if (checkForPrivateInfo(allText)) {
                const confirmed = confirm(
                  '‚ö†Ô∏è VARNING!\n\n' +
                  'Det verkar som att du har inkluderat k√§nslig information (personnummer, telefonnummer eller e-postadress) i din fr√•ga.\n\n' +
                  'Kontrollera √§ven att du inte har skrivit ditt fullst√§ndiga namn.\n\n' +
                  'Din fr√•ga kommer att publiceras offentligt p√• webbplatsen.\n\n' +
                  'Vill du verkligen skicka fr√•gan som den √§r?\n\n' +
                  'Klicka "Avbryt" f√∂r att g√• tillbaka och redigera.'
                );
                
                if (!confirmed) {
                  e.preventDefault();
                }
              }
            });
          });
        </script>
      </div>
    </div>
  </section>

  <!-- Fr√•gelista -->
  <section class="bg-white py-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <h2 class="text-2xl font-bold text-slate-900 mb-8">Tidigare fr√•gor & svar</h2>
      
      {activeCategories.length === 0 ? (
        <p class="text-slate-500 text-center py-12">Inga fr√•gor publicerade √§nnu.</p>
      ) : (
        <div class="space-y-8">
          {activeCategories.map(([key, category]) => (
            <div>
              <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                <span>{category.icon}</span>
                {category.name}
                <span class="text-sm font-normal text-slate-500">({category.questions.length} fr√•gor)</span>
              </h3>
              <div class="grid gap-3">
                {category.questions.map((question) => (
                  <a 
                    href={`/fraga-doktorn/${question.slug}`}
                    class="block bg-slate-50 hover:bg-sky-50 border border-slate-200 hover:border-sky-300 rounded-xl p-4 transition-colors group"
                  >
                    <h4 class="font-bold text-slate-800 group-hover:text-sky-700 mb-1">
                      {question.data.title}
                    </h4>
                    {question.data.description && (
                      <p class="text-sm text-slate-600 mb-2 line-clamp-2">{question.data.description}</p>
                    )}
                    <div class="flex items-center gap-4 text-xs text-slate-500">
                      <span>{formatDate(question.data.date)}</span>
                      {question.data.tags && question.data.tags.length > 0 && (
                        <div class="flex gap-1">
                          {question.data.tags.slice(0, 3).map((tag) => (
                            <span class="bg-slate-200 text-slate-600 px-2 py-0.5 rounded">{tag}</span>
                          ))}
                        </div>
                      )}
                    </div>
                  </a>
                ))}
              </div>
            </div>
          ))}
        </div>
      )}
    </div>
  </section>

</BaseLayout>

