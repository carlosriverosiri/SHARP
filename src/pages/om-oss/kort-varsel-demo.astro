---
/**
 * Demosida: Kort varsel SMS-systemet
 * 
 * Interaktiv demonstration f√∂r personal och patienter
 * som visar hur systemet fungerar.
 * 
 * Skapad av: Gemini AI + Claude AI
 * Datum: 2026-01-24
 */

import BaseLayout from "../../layouts/BaseLayout.astro";

const title = "Kort Varsel SMS - S√• fungerar det";
const description = "Se hur v√•rt smarta SMS-system hj√§lper dig att f√• en tidigare operationstid n√§r n√•gon avbokar. Interaktiv demonstration.";
---

<BaseLayout title={title} description={description}>
  
  <!-- Custom styles for this page -->
  <style>
    .chart-container {
      position: relative;
      width: 100%;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      height: 300px;
      max-height: 350px;
    }

    .phone-mockup {
      border: 12px solid #1f2937;
      border-radius: 2rem;
      overflow: hidden;
      background: white;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .fade-in {
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .demo-section {
      scroll-margin-top: 100px;
    }
  </style>

  <main class="bg-stone-50">
    
    <!-- Hero Section -->
    <section class="bg-gradient-to-br from-rose-600 to-rose-700 text-white py-16">
      <div class="max-w-5xl mx-auto px-4 text-center">
        <div class="inline-flex items-center gap-2 bg-white/20 rounded-full px-4 py-2 text-sm mb-6">
          <span class="w-2 h-2 bg-emerald-400 rounded-full animate-pulse"></span>
          Systemet √§r aktivt
        </div>
        <div class="flex items-center justify-center gap-3 mb-4">
          <!-- SMS Bubble SVG Icon -->
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 md:w-14 md:h-14">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8.625 12a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H8.25m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0H12m4.125 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 01-2.555-.337A5.972 5.972 0 015.41 20.97a5.969 5.969 0 01-.474-.065 4.48 4.48 0 00.978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25z" />
          </svg>
          <h1 class="text-4xl md:text-5xl font-bold">
            Kort Varsel SMS
          </h1>
        </div>
        <p class="text-xl text-rose-100 max-w-2xl mx-auto">
          S√• hj√§lper vi dig att f√• en tidigare operationstid n√§r n√•gon avbokar i sista minuten
        </p>
      </div>
    </section>

    <div class="max-w-6xl mx-auto px-4 py-12 space-y-16">

      <!-- Intro Section -->
      <section class="demo-section bg-white rounded-2xl shadow-sm p-8 border border-stone-200">
        <div class="max-w-3xl">
          <h2 class="text-3xl font-bold text-slate-900 mb-4">Vad √§r Kort Varsel SMS?</h2>
          <p class="text-lg text-slate-600 leading-relaxed mb-6">
            N√§r en patient avbokar sin operation med kort varsel f√•r vi en ledig tid som vi vill fylla. 
            Ist√§llet f√∂r att ringa runt manuellt skickar vi <strong>automatiska SMS</strong> till patienter 
            p√• v√§ntelistan som kan t√§nka sig att komma med kort varsel.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="bg-stone-50 p-4 rounded-xl border border-stone-200 hover:shadow-md transition group">
              <div class="w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center mb-2 group-hover:bg-emerald-200 transition">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-emerald-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </div>
              <h3 class="font-bold text-slate-800 group-hover:text-emerald-700 transition">Snabbare v√•rd</h3>
              <p class="text-sm text-slate-500">Du kan f√• din operation tidigare.</p>
            </div>
            <div class="bg-stone-50 p-4 rounded-xl border border-stone-200 hover:shadow-md transition group">
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-2 group-hover:bg-blue-200 transition">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-blue-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605" />
                </svg>
              </div>
              <h3 class="font-bold text-slate-800 group-hover:text-blue-700 transition">R√§ttvist system</h3>
              <p class="text-sm text-slate-500">De som har mest ont prioriteras.</p>
            </div>
            <div class="bg-stone-50 p-4 rounded-xl border border-stone-200 hover:shadow-md transition group">
              <div class="w-10 h-10 bg-rose-100 rounded-lg flex items-center justify-center mb-2 group-hover:bg-rose-200 transition">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-rose-600">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
                </svg>
              </div>
              <h3 class="font-bold text-slate-800 group-hover:text-rose-700 transition">S√§kert & frivilligt</h3>
              <p class="text-sm text-slate-500">Du v√§ljer sj√§lv om du vill delta.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Requirements Section -->
      <section class="demo-section bg-amber-50 rounded-2xl shadow-sm p-8 border-2 border-amber-200">
        <h2 class="text-2xl font-bold text-amber-900 mb-4 flex items-center gap-2">
          <span>üìã</span> Krav f√∂r att delta
        </h2>
        <p class="text-amber-800 mb-6">
          F√∂r att kunna erbjudas en kortvarselstid beh√∂ver f√∂ljande vara uppfyllt:
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="bg-white p-4 rounded-xl border border-amber-200">
            <h3 class="font-bold text-amber-900 mb-2">‚úÖ Ifylld h√§lsodeklaration</h3>
            <p class="text-sm text-amber-700">
              Du m√•ste ha fyllt i din h√§lsodeklaration s√• vi vet att du √§r redo f√∂r operation. 
              Utan den kan vi inte bed√∂ma om det √§r s√§kert att operera dig med kort varsel.
            </p>
          </div>
          <div class="bg-white p-4 rounded-xl border border-amber-200">
            <h3 class="font-bold text-amber-900 mb-2">‚úÖ Samtycke till SMS</h3>
            <p class="text-sm text-amber-700">
              I h√§lsodeklarationen kan du ange om du vill f√• personliga SMS med information om din operation, 
              eller om du f√∂redrar generella meddelanden. B√•da alternativen fungerar.
            </p>
          </div>
        </div>
        
        <div class="mt-4 p-4 bg-white rounded-lg text-sm text-amber-800 border border-amber-300">
          <p class="font-bold mb-2">‚ö†Ô∏è Viktigt: Detta √§r ett NYTT fr√•geformul√§r!</p>
          <p class="mb-2">
            Du fick en l√§nk till h√§lsodeklarationen via SMS samma dag som du bokades f√∂r operation 
            (oftast efter ditt mottagningsbes√∂k eller telefonkontakt).
          </p>
          <p class="text-amber-700 mb-3">
            <strong>Obs!</strong> F√∂rv√§xla inte denna med de kortare fr√•geformul√§r du fyllt i tidigare. 
            H√§lsodeklarationen √§r mer omfattande och <u>m√•ste</u> fyllas i separat innan operation.
          </p>
          <a href="https://www.specialist.se/hd" target="_blank" rel="noopener" 
             class="inline-flex items-center gap-2 bg-amber-600 hover:bg-amber-700 text-white font-medium px-4 py-2 rounded-lg transition">
            üìã Har du inte fyllt i h√§lsodeklarationen? G√∂r det h√§r ‚Üí
          </a>
        </div>
      </section>

      <!-- How it works for patients -->
      <section class="demo-section">
        <div class="mb-6">
          <h2 class="text-2xl font-bold text-slate-900">S√• fungerar det f√∂r dig som patient</h2>
          <p class="text-slate-600 mt-2">Tre enkla steg fr√•n SMS till bokad tid.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <div>
            <div class="space-y-4">
              <!-- Step 1: SMS -->
              <div class="flex gap-4 p-4 rounded-lg bg-white border border-stone-200 cursor-pointer hover:border-rose-400 transition group step-btn" data-step="1">
                <div class="flex-shrink-0 w-12 h-12 bg-blue-50 rounded-full flex items-center justify-center text-blue-600 group-hover:bg-blue-100 transition">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
                  </svg>
                </div>
                <div>
                  <h4 class="font-bold text-slate-800 group-hover:text-blue-700 transition">1. Du f√•r ett SMS</h4>
                  <p class="text-sm text-slate-500">Med information om den lediga tiden och en l√§nk.</p>
                </div>
              </div>
              <!-- Step 2: Health Check -->
              <div class="flex gap-4 p-4 rounded-lg bg-white border border-stone-200 cursor-pointer hover:border-rose-400 transition group step-btn" data-step="2">
                <div class="flex-shrink-0 w-12 h-12 bg-rose-50 rounded-full flex items-center justify-center text-rose-600 group-hover:bg-rose-100 transition">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                  </svg>
                </div>
                <div>
                  <h4 class="font-bold text-slate-800 group-hover:text-rose-700 transition">2. Bekr√§fta din h√§lsostatus</h4>
                  <p class="text-sm text-slate-500">Svara p√• en kort fr√•ga om infektioner.</p>
                </div>
              </div>
              <!-- Step 3: Confirmation -->
              <div class="flex gap-4 p-4 rounded-lg bg-white border border-stone-200 cursor-pointer hover:border-rose-400 transition group step-btn" data-step="3">
                <div class="flex-shrink-0 w-12 h-12 bg-emerald-50 rounded-full flex items-center justify-center text-emerald-600 group-hover:bg-emerald-100 transition">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                </div>
                <div>
                  <h4 class="font-bold text-slate-800 group-hover:text-emerald-700 transition">3. F√• din bekr√§ftelse</h4>
                  <p class="text-sm text-slate-500">Vi ringer dig f√∂r att slutf√∂ra bokningen.</p>
                </div>
              </div>
            </div>

            <div class="mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg">
              <p class="text-sm text-amber-800">
                <strong>üí° Tips:</strong> Klicka p√• stegen ovan f√∂r att se hur det ser ut p√• mobilen!
              </p>
            </div>
          </div>

          <!-- Interactive Phone Mockup -->
          <div class="flex justify-center">
            <div class="phone-mockup w-[320px] h-[640px] relative bg-stone-50 flex flex-col">
              <!-- Status Bar -->
              <div class="bg-slate-900 text-white text-[10px] px-4 py-1 flex justify-between items-center">
                <span>14:30</span>
                <div class="flex gap-1">
                  <span>üì∂</span>
                  <span>üîã</span>
                </div>
              </div>
              
              <!-- Screen Content -->
              <div id="phoneContent" class="flex-1 overflow-y-auto p-4 relative">
                <!-- Content injected via JS -->
              </div>

              <!-- Home Bar -->
              <div class="h-1 w-1/3 bg-slate-300 rounded-full mx-auto mb-2"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Priority Algorithm (Simplified for patients) -->
      <section class="demo-section bg-white rounded-2xl shadow-sm p-8 border border-stone-200">
        <h2 class="text-2xl font-bold text-slate-900 mb-4">Vem f√•r SMS f√∂rst?</h2>
        <p class="text-slate-600 mb-6">
          Vi prioriterar patienter baserat p√• medicinsk angel√§genhet. De som har st√∂rst behov f√•r fr√•gan f√∂rst.
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div class="bg-red-50 border-2 border-red-200 p-4 rounded-xl text-center hover:shadow-md transition">
            <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-red-600">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />
              </svg>
            </div>
            <h4 class="font-bold text-red-800">Akut</h4>
            <p class="text-xs text-red-600">M√•ste opereras snarast</p>
          </div>
          <div class="bg-orange-50 border-2 border-orange-200 p-4 rounded-xl text-center hover:shadow-md transition">
            <div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-orange-600">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z" />
              </svg>
            </div>
            <h4 class="font-bold text-orange-800">Sjukskrivna</h4>
            <p class="text-xs text-orange-600">V√§ntar p√• att komma tillbaka</p>
          </div>
          <div class="bg-amber-50 border-2 border-amber-200 p-4 rounded-xl text-center hover:shadow-md transition">
            <div class="w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-amber-600">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.362 5.214A8.252 8.252 0 0112 21 8.25 8.25 0 016.038 7.048 8.287 8.287 0 009 9.6a8.983 8.983 0 013.361-6.867 8.21 8.21 0 003 2.48z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 18a3.75 3.75 0 00.495-7.467 5.99 5.99 0 00-1.925 3.546 5.974 5.974 0 01-2.133-1A3.75 3.75 0 0012 18z" />
              </svg>
            </div>
            <h4 class="font-bold text-amber-800">Mycket ont</h4>
            <p class="text-xs text-amber-600">H√∂g sm√§rtniv√•</p>
          </div>
          <div class="bg-blue-50 border-2 border-blue-200 p-4 rounded-xl text-center hover:shadow-md transition">
            <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 text-blue-600">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h4 class="font-bold text-blue-800">√ñvriga</h4>
            <p class="text-xs text-blue-600">Normal v√§ntelista</p>
          </div>
        </div>
      </section>

      <!-- FAQ for patients -->
      <section class="demo-section">
        <h2 class="text-2xl font-bold text-slate-900 mb-6">Vanliga fr√•gor</h2>
        
        <!-- Important clarification box -->
        <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-4 mb-6">
          <p class="text-blue-800 font-medium mb-3">
            ‚ÑπÔ∏è <strong>Viktigt att veta:</strong> Kort varsel SMS √§r <u>endast</u> en extra m√∂jlighet att f√• en tidigare tid. 
            Oavsett om du tackar nej eller avregistrerar dig ‚Äì <strong class="underline">din ordinarie planerade operationstid p√•verkas aldrig</strong>.
          </p>
          <p class="text-blue-700 text-sm">
            ‚ö†Ô∏è <strong>Beh√∂ver du avboka eller omboka din operation?</strong> Det g√∂r du <u>inte</u> via detta system. 
            Kontakta oss via <strong>telefon 08-551 104 22</strong> eller <strong>Mina v√•rdkontakter (1177)</strong>.
          </p>
        </div>
        
        <div class="space-y-4">
          <details class="bg-white rounded-lg shadow-sm border border-stone-200 group">
            <summary class="px-4 py-3 cursor-pointer font-medium text-slate-800 hover:text-rose-600 flex justify-between items-center">
              <span>Varf√∂r m√•ste jag fylla i h√§lsodeklarationen?</span>
              <span class="text-slate-400 group-open:rotate-180 transition">‚ñº</span>
            </summary>
            <div class="px-4 pb-4 text-sm text-slate-600 border-t border-stone-100 pt-2">
              <p class="mb-2">
                H√§lsodeklarationen √§r ett krav f√∂r att vi ska kunna erbjuda dig en kortvarselstid. Den inneh√•ller viktig information om:
              </p>
              <ul class="list-disc list-inside mb-3 space-y-1">
                <li>Din h√§lsostatus och eventuella sjukdomar</li>
                <li>Mediciner du tar (s√§rskilt blodf√∂rtunnande)</li>
                <li>Om du samtycker till personliga SMS eller f√∂redrar generella meddelanden</li>
              </ul>
              <div class="bg-amber-50 border border-amber-200 rounded p-2 text-amber-800 text-xs mb-2">
                <strong>‚ö†Ô∏è Viktigt:</strong> H√§lsodeklarationen √§r ett <u>nytt</u> fr√•geformul√§r ‚Äì inte samma som de kortare formul√§r 
                du kan ha fyllt i tidigare. Du fick l√§nken via SMS samma dag du bokades f√∂r operation.
              </div>
              <a href="https://www.specialist.se/hd" target="_blank" rel="noopener" 
                 class="inline-block text-xs bg-amber-600 hover:bg-amber-700 text-white px-3 py-1.5 rounded transition">
                ‚Üí Fyll i h√§lsodeklarationen
              </a>
            </div>
          </details>

          <details class="bg-white rounded-lg shadow-sm border border-stone-200 group">
            <summary class="px-4 py-3 cursor-pointer font-medium text-slate-800 hover:text-rose-600 flex justify-between items-center">
              <span>M√•ste jag svara direkt?</span>
              <span class="text-slate-400 group-open:rotate-180 transition">‚ñº</span>
            </summary>
            <div class="px-4 pb-4 text-sm text-slate-600 border-t border-stone-100 pt-2">
              <p class="mb-2">
                Nej, men det √§r "f√∂rst till kvarn" som g√§ller. Om du √§r intresserad, svara s√• snart du kan!
              </p>
              <p>
                Om du inte kan just den tiden √§r det bara att svara NEJ ‚Äì <strong class="underline">din ordinarie operationstid p√•verkas inte</strong>.
              </p>
            </div>
          </details>

          <details class="bg-white rounded-lg shadow-sm border border-stone-200 group">
            <summary class="px-4 py-3 cursor-pointer font-medium text-slate-800 hover:text-rose-600 flex justify-between items-center">
              <span>Vad h√§nder om jag svarar JA men √•ngrar mig?</span>
              <span class="text-slate-400 group-open:rotate-180 transition">‚ñº</span>
            </summary>
            <div class="px-4 pb-4 text-sm text-slate-600 border-t border-stone-100 pt-2">
              <p class="mb-2">
                Ring oss p√• <strong>08-551 104 22</strong> s√• fort som m√∂jligt. Vi f√∂rst√•r att planer kan √§ndras.
              </p>
              <p>
                <strong class="underline">Din ordinarie operationstid finns kvar</strong> om den nya tiden inte fungerar.
              </p>
            </div>
          </details>

          <details class="bg-white rounded-lg shadow-sm border border-stone-200 group">
            <summary class="px-4 py-3 cursor-pointer font-medium text-slate-800 hover:text-rose-600 flex justify-between items-center">
              <span>Kan jag sluta f√• SMS om kort varseltid?</span>
              <span class="text-slate-400 group-open:rotate-180 transition">‚ñº</span>
            </summary>
            <div class="px-4 pb-4 text-sm text-slate-600 border-t border-stone-100 pt-2">
              <p class="mb-3">
                Ja! Du kan antingen klicka p√• "Jag vill inte l√§ngre f√• dessa f√∂rfr√•gningar" p√• svarssidan, 
                eller svara <strong>STOPP</strong> p√• ett SMS.
              </p>
              <p class="bg-emerald-50 border border-emerald-200 rounded-lg p-3 text-emerald-800">
                <strong class="underline">Viktigt:</strong> Din ordinarie operationstid p√•verkas inte! 
                Detta avregistrerar dig endast fr√•n kortvarselfunktionen ‚Äì din planerade operation kvarst√•r som vanligt.
              </p>
            </div>
          </details>

          <details class="bg-white rounded-lg shadow-sm border border-stone-200 group">
            <summary class="px-4 py-3 cursor-pointer font-medium text-slate-800 hover:text-rose-600 flex justify-between items-center">
              <span>Kan jag avboka eller omboka min operation h√§r?</span>
              <span class="text-slate-400 group-open:rotate-180 transition">‚ñº</span>
            </summary>
            <div class="px-4 pb-4 text-sm text-slate-600 border-t border-stone-100 pt-2">
              <p class="mb-3">
                <strong>Nej.</strong> Detta system √§r <u>endast</u> till f√∂r patienter som vill ha m√∂jlighet att komma <em>tidigare</em> ‚Äì 
                inte f√∂r att avboka eller omboka din planerade operation.
              </p>
              <p class="bg-amber-50 border border-amber-200 rounded-lg p-3 text-amber-800">
                <strong>Beh√∂ver du avboka eller omboka?</strong><br>
                Kontakta oss via:<br>
                ‚Ä¢ <strong>Telefon:</strong> 08-551 104 22<br>
                ‚Ä¢ <strong>Mina v√•rdkontakter:</strong> via 1177.se
              </p>
            </div>
          </details>

          <details class="bg-white rounded-lg shadow-sm border border-stone-200 group">
            <summary class="px-4 py-3 cursor-pointer font-medium text-slate-800 hover:text-rose-600 flex justify-between items-center">
              <span>√Ñr mina uppgifter s√§kra?</span>
              <span class="text-slate-400 group-open:rotate-180 transition">‚ñº</span>
            </summary>
            <div class="px-4 pb-4 text-sm text-slate-600 border-t border-stone-100 pt-2">
              Ja. Ditt telefonnummer krypteras och raderas automatiskt efter din operation. 
              Vi f√∂ljer GDPR och Patientdatalagen. Endast beh√∂rig personal har tillg√•ng.
            </div>
          </details>
        </div>
      </section>

      <!-- For staff (collapsible) -->
      <section class="demo-section">
        <details class="bg-slate-800 text-white rounded-2xl overflow-hidden">
          <summary class="px-6 py-4 cursor-pointer font-bold text-lg flex justify-between items-center">
            <span>üîß F√∂r personal: Teknisk information</span>
            <span class="text-slate-400">‚ñº</span>
          </summary>
          <div class="px-6 pb-6 space-y-6">
            
            <!-- Tech Stack -->
            <div>
              <h3 class="font-bold text-lg mb-4 text-slate-200">Systemarkitektur</h3>
              <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-slate-700 p-4 rounded-xl">
                  <div class="text-2xl mb-2">üöÄ</div>
                  <h4 class="font-bold text-white">Astro</h4>
                  <p class="text-xs text-slate-400">Frontend & API</p>
                  <p class="text-xs text-slate-500 mt-1">Ingen patientdata</p>
                </div>
                <div class="bg-slate-700 p-4 rounded-xl border-2 border-emerald-500">
                  <div class="text-2xl mb-2">üóÑÔ∏è</div>
                  <h4 class="font-bold text-white">Supabase</h4>
                  <p class="text-xs text-slate-400">Databas & Auth</p>
                  <p class="text-xs text-emerald-400 mt-1">‚úì DPA kr√§vs</p>
                </div>
                <div class="bg-slate-700 p-4 rounded-xl border-2 border-emerald-500">
                  <div class="text-2xl mb-2">üí¨</div>
                  <h4 class="font-bold text-white">46elks</h4>
                  <p class="text-xs text-slate-400">SMS Gateway</p>
                  <p class="text-xs text-emerald-400 mt-1">‚úì DPA kr√§vs</p>
                </div>
                <div class="bg-slate-700 p-4 rounded-xl border-2 border-emerald-500">
                  <div class="text-2xl mb-2">‚òÅÔ∏è</div>
                  <h4 class="font-bold text-white">Netlify</h4>
                  <p class="text-xs text-slate-400">Hosting & Cron</p>
                  <p class="text-xs text-emerald-400 mt-1">‚úì DPA kr√§vs</p>
                </div>
              </div>
            </div>

            <!-- GDPR & Legal Compliance -->
            <div>
              <h3 class="font-bold text-lg mb-4 text-slate-200">üõ°Ô∏è GDPR, PDL & Avtal</h3>
              
              <!-- Compliance checklist -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div class="bg-slate-700 rounded-xl p-4">
                  <h4 class="font-bold text-emerald-400 mb-3">Regelefterlevnad</h4>
                  <ul class="space-y-2 text-sm">
                    <li class="flex items-center gap-2">
                      <span class="text-emerald-400">‚úì</span>
                      <span>GDPR (Art. 6 & 9)</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <span class="text-emerald-400">‚úì</span>
                      <span>Patientdatalagen (PDL)</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <span class="text-emerald-400">‚úì</span>
                      <span>Offentlighets- & sekretesslagen</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <span class="text-emerald-400">‚úì</span>
                      <span>AES-256 kryptering</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <span class="text-emerald-400">‚úì</span>
                      <span>Automatisk dataradering</span>
                    </li>
                  </ul>
                </div>

                <div class="bg-slate-700 rounded-xl p-4">
                  <h4 class="font-bold text-amber-400 mb-3">Personuppgiftsbitr√§desavtal (DPA)</h4>
                  <ul class="space-y-2 text-sm">
                    <li class="flex items-center gap-2">
                      <span class="text-emerald-400">‚òê</span>
                      <span><strong>Supabase</strong> ‚Äì Databas (EU/Frankfurt)</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <span class="text-emerald-400">‚òê</span>
                      <span><strong>46elks</strong> ‚Äì SMS (Sverige)</span>
                    </li>
                    <li class="flex items-center gap-2">
                      <span class="text-emerald-400">‚òê</span>
                      <span><strong>Netlify</strong> ‚Äì Hosting (EU)</span>
                    </li>
                  </ul>
                  <p class="text-xs text-slate-400 mt-3">
                    ‚òê = Ska inh√§mtas | ‚úì = Klart
                  </p>
                </div>
              </div>

              <!-- Samtycke & r√§ttslig grund -->
              <div class="bg-slate-700 rounded-xl p-4">
                <h4 class="font-bold text-slate-200 mb-3">R√§ttslig grund f√∂r SMS-utskick</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                  <div class="bg-slate-600 p-3 rounded-lg">
                    <p class="font-bold text-emerald-400 mb-1">Med samtycke (Art. 9.2.a)</p>
                    <p class="text-slate-300">Patient har kryssat i h√§lsodeklarationen ‚Üí Personligt SMS med operationsdetaljer</p>
                  </div>
                  <div class="bg-slate-600 p-3 rounded-lg">
                    <p class="font-bold text-amber-400 mb-1">Utan samtycke (Ber√§ttigat intresse)</p>
                    <p class="text-slate-300">Generiskt SMS utan k√§nslig info ‚Üí "Vi har en ledig tid..."</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Priority intervals -->
            <div>
              <h3 class="font-bold text-lg mb-4 text-slate-200">Prioritetsintervall</h3>
              <div class="bg-slate-700 rounded-xl p-4">
                <table class="w-full text-sm">
                  <thead>
                    <tr class="text-slate-400 text-left">
                      <th class="pb-2">Prioritet</th>
                      <th class="pb-2">Intervall</th>
                      <th class="pb-2">Beskrivning</th>
                    </tr>
                  </thead>
                  <tbody class="text-slate-200">
                    <tr><td>üö® AKUT</td><td>60 min</td><td>M√•ste opereras snarast</td></tr>
                    <tr><td>üìã Sjukskriven</td><td>30 min</td><td>V√§ntar p√• att √•terg√• i arbete</td></tr>
                    <tr><td>üî• Mycket ont</td><td>20 min</td><td>H√∂g sm√§rtniv√•</td></tr>
                    <tr><td>‚è∞ Normal</td><td>10 min</td><td>Standardintervall</td></tr>
                  </tbody>
                </table>
              </div>
            </div>

            <!-- Data handling -->
            <div>
              <h3 class="font-bold text-lg mb-4 text-slate-200">Datahantering</h3>
              <div class="bg-slate-700 rounded-xl p-4">
                <table class="w-full text-sm">
                  <thead>
                    <tr class="text-slate-400 text-left">
                      <th class="pb-2">Data</th>
                      <th class="pb-2">Lagring</th>
                      <th class="pb-2">Radering</th>
                    </tr>
                  </thead>
                  <tbody class="text-slate-200">
                    <tr>
                      <td>Telefonnummer</td>
                      <td>AES-256 krypterat</td>
                      <td>Efter op-datum eller 7 dagar</td>
                    </tr>
                    <tr>
                      <td>Patientnamn</td>
                      <td>Klartext (f√∂r s√∂kning)</td>
                      <td>Efter op-datum eller 7 dagar</td>
                    </tr>
                    <tr>
                      <td>Kampanjhistorik</td>
                      <td>Anonymiserad</td>
                      <td>90 dagar</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="flex flex-wrap gap-4">
              <a href="/personal/kort-varsel" class="bg-rose-600 hover:bg-rose-700 text-white px-4 py-2 rounded-lg font-medium transition">
                ‚Üí √ñppna dashboard
              </a>
              <a href="https://github.com/carlosriverosiri/SHARP" target="_blank" class="bg-slate-600 hover:bg-slate-500 text-white px-4 py-2 rounded-lg font-medium transition">
                üìö GitHub
              </a>
              <a href="/docs/KORT-VARSEL-SMS.md" target="_blank" class="bg-slate-600 hover:bg-slate-500 text-white px-4 py-2 rounded-lg font-medium transition">
                üìÑ Full dokumentation
              </a>
            </div>
          </div>
        </details>
      </section>

    </div>
  </main>

  <!-- Chart.js for future stats display -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  
  <!-- Interactive JavaScript -->
  <script>
    // Phone mockup state
    let currentStep = 1;

    // Step button click handlers
    document.querySelectorAll('.step-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        currentStep = parseInt(btn.dataset.step);
        renderPhoneContent();
        
        // Highlight active step
        document.querySelectorAll('.step-btn').forEach(b => {
          b.classList.remove('border-rose-500', 'bg-rose-50');
          b.classList.add('border-stone-200');
        });
        btn.classList.remove('border-stone-200');
        btn.classList.add('border-rose-500', 'bg-rose-50');
      });
    });

    function renderPhoneContent() {
      const container = document.getElementById('phoneContent');
      if (!container) return;

      if (currentStep === 1) {
        container.innerHTML = `
          <div class="flex flex-col gap-4 fade-in">
            <div class="text-xs text-center text-slate-400 mb-2">Idag 14:30</div>
            <div class="bg-stone-200 p-3 rounded-2xl rounded-bl-none max-w-[85%] self-start text-sm text-slate-800 shadow-sm">
              <p class="font-bold mb-1">S√∂dermalms Ortopedi</p>
              <p>Hej Anna! Vi har en ledig operationsplats f√∂r axeloperation imorgon 14:30.</p>
              <br>
              <p>Kan du komma med kort varsel?</p>
              <p class="text-blue-600 underline mt-1">specialist.se/s/x7k9m2</p>
            </div>
            <div class="text-xs text-center text-slate-400 mt-4">
              ‚òùÔ∏è Klicka p√• l√§nken f√∂r att svara
            </div>
          </div>
        `;
      } else if (currentStep === 2) {
        container.innerHTML = `
          <div class="fade-in bg-white h-full flex flex-col">
            <div class="border-b pb-2 mb-4 flex justify-between items-center">
              <span class="font-bold text-rose-600">S√∂dermalms Ortopedi</span>
              <span class="text-xs bg-emerald-100 text-emerald-800 px-2 py-0.5 rounded-full">S√§ker l√§nk</span>
            </div>
            
            <h3 class="font-bold text-lg mb-2">Ledig tid: Imorgon 14:30</h3>
            
            <div class="bg-orange-50 border border-orange-200 p-3 rounded-lg mb-4 text-xs text-orange-800">
              <strong>‚ö†Ô∏è Viktigt</strong><br>
              Operationen √§r inom 24h. Har du fr√•gor om mediciner? Ring oss!
            </div>

            <div class="space-y-3 mb-6">
              <label class="flex gap-2 items-start cursor-pointer">
                <input type="checkbox" class="mt-1" id="healthCheck">
                <span class="text-sm text-slate-700">Jag har inga √∂ppna s√•r eller p√•g√•ende infektioner.</span>
              </label>
            </div>

            <div class="mt-auto space-y-2">
              <button onclick="goToStep(3)" class="w-full bg-emerald-600 text-white font-bold py-3 rounded-lg shadow-md hover:bg-emerald-700">JA, jag kan komma</button>
              <button class="w-full bg-stone-100 text-slate-600 font-medium py-3 rounded-lg">Nej, jag kan inte</button>
            </div>
            <div class="mt-4 text-center">
              <span class="text-xs text-stone-400 underline">Avregistrera mig</span>
            </div>
          </div>
        `;
      } else if (currentStep === 3) {
        container.innerHTML = `
          <div class="fade-in h-full flex flex-col items-center justify-center text-center">
            <div class="w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center text-3xl mb-4">üéâ</div>
            <h3 class="font-bold text-xl text-slate-900 mb-2">Tack Anna!</h3>
            <p class="text-sm text-slate-600 mb-6">Du har svarat JA. Vi ringer dig inom kort f√∂r att bekr√§fta.</p>
            
            <div class="bg-stone-50 p-4 rounded-lg w-full text-left border border-stone-200">
              <p class="text-xs text-stone-500 uppercase font-bold mb-1">Status</p>
              <p class="text-sm font-medium text-slate-800">‚úÖ Prelimin√§rbokad</p>
              <p class="text-xs text-slate-500 mt-2">Din ordinarie tid finns kvar som backup.</p>
            </div>
          </div>
        `;
      }
    }

    // Make goToStep available globally for onclick
    window.goToStep = function(step) {
      currentStep = step;
      renderPhoneContent();
    };

    // Initialize
    renderPhoneContent();
  </script>

</BaseLayout>
